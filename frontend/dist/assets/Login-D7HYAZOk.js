import{h as y,r as n,i as E,u as S,k as F,j as e,F as k,l as C,a as x,s as P,f as u}from"./index-CKenc1QC.js";import{u as L}from"./userApiSlice-BZu3orzx.js";import{F as A}from"./index-CbwRba4o.js";import{d as B}from"./index-CoHHr8Ot.js";const U=()=>{const{userInfo:r}=y(s=>s.auth),[f,m]=n.useState(""),[o,p]=n.useState(""),[c,h]=n.useState(!1),i=E(),g=S(),[w,{isLoading:a}]=L(),{search:j}=F(),l=new URLSearchParams(j).get("redirect")||"/",N=n.useCallback(B(s=>m(s),300),[]),b=async s=>{var d;s.preventDefault();try{const t=await w({email:f,password:o}).unwrap();t.error||(g(P({...t})),u.success("User logged in successfully"))}catch(t){u.error(((d=t==null?void 0:t.data)==null?void 0:d.error)||t.error||"An error occurred")}},v=async()=>{window.open("https://dbsa2.onrender.com/auth/google/callback","_self")};return n.useEffect(()=>{r&&i(l==="/"?l:`/${l}`)},[r,l,i]),e.jsx("div",{className:"w-full min-h-screen p-4 flex flex-col justify-center items-center",children:e.jsxs("div",{className:"w-[30%] md:w-[50%] sm:w-[80%] vsm:w-[95%] flex flex-col mt-5",children:[e.jsx("div",{className:"text-[21px] font-[400]",children:"Nice to see you again"}),e.jsxs("div",{className:"w-full gap-6 flex flex-col",children:[e.jsxs("div",{className:"flex w-full flex-col gap-2 mt-6",children:[e.jsx("label",{htmlFor:"email",className:"text-[14px]",children:"Email"}),e.jsx("div",{className:"w-full bg-[#c1c1c133] rounded-lg",children:e.jsx("input",{type:"email",onChange:s=>N(s.target.value),placeholder:"Enter your Email",className:"bg-transparent w-full px-3 h-[48px] py-2 focus:outline-none",disabled:a})})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx("label",{htmlFor:"password",className:"text-[14px]",children:"Password"}),e.jsxs("div",{className:"w-full flex bg-[#c1c1c133] rounded-lg",children:[e.jsx("input",{type:c?"text":"password",placeholder:"Enter Password",value:o,onChange:s=>p(s.target.value),className:"bg-transparent w-full px-3 py-2 focus:outline-none",disabled:a}),e.jsx("button",{onClick:()=>h(!c),className:"w-[48px] h-[48px]",disabled:a,children:c?e.jsx(k,{}):e.jsx(C,{})})]})]}),e.jsx("div",{className:"w-full flex mt-5 justify-start",children:e.jsx(x,{to:"/forgetPassword",className:"text-[#525CEB] text-[14px]",children:"Forgot password?"})}),e.jsxs("div",{className:"flex w-full flex-col mt-2 gap-6",children:[e.jsx("button",{onClick:b,className:`w-full h-[48px] rounded-lg tracking-wider text-[17px] font-[500] bg-[#525CEB] text-white ${a&&"cursor-wait opacity-50"}`,disabled:a,children:a?"Signing in...":"Sign in"}),e.jsxs("button",{onClick:v,className:"w-full h-[48px] flex justify-center items-center gap-2 rounded-lg tracking-wider text-[13px] font-[400] bg-[#000000] text-white",disabled:a,children:[e.jsx(A,{className:"text-[22px]"})," Or sign in with Google"]})]}),e.jsx("div",{className:"w-full flex justify-center items-center",children:e.jsxs("p",{children:["Don't have an account?"," ",e.jsx(x,{to:l?`/register?redirect=${l}`:"/register",className:"text-[#007AFF]",children:"Sign up now"})]})})]})]})})};export{U as default};
